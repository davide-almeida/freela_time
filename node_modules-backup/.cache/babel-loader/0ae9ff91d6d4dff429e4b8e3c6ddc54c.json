{"ast":null,"code":"$(document).on('turbolinks:load', function () {\n  // document.addEventListener(\"turbolinks:load\", function() {\n  // console.log('Entrou no timer.js');\n  if ($(\"#time\").length) {\n    // console.log('Entrou no TIMER');\n    var timer = document.querySelector('#time');\n    var start_btn = document.querySelector('#start_btn');\n    var pause_btn = document.querySelector('#pause_btn');\n    var reset_btn = document.querySelector('#reset_btn');\n    var end_btn = document.querySelector('#end_btn'); // const send_btn = document.querySelector('#send_btn');\n\n    var time = 0,\n        interval;\n    var start_time;\n    var end_time;\n    var start_today_global; // hide timer buttons\n\n    window.start_timer = function start_timer() {\n      hideBtn([pause_btn, reset_btn, end_btn]);\n    };\n\n    window.showTime = function showTime() {\n      time += 1;\n      timer.innerHTML = toHHMMSS(time);\n    };\n\n    window.start = function start() {\n      interval = setInterval(showTime, 1000);\n      hideBtn([start_btn]);\n      showBtn([pause_btn, reset_btn, end_btn]); // console.log('entrou no start');\n\n      var start_today = new Date();\n      start_time = start_today.getFullYear() + \"-\" + (start_today.getMonth() + 1).toString().padStart(2, '0').toString() + \"-\" + start_today.getDate().toString().padStart(2, '0') + \"T\" + start_today.getHours() + \":\" + start_today.getMinutes();\n      start_today_global = start_today; //format '2018-06-12T19:30'\n      // console.log(start_time);\n    };\n\n    window.pause = function pause() {\n      if (interval) {\n        clearInterval(interval);\n        interval = null;\n        pause_btn.innerHTML = 'Continuar';\n      } else {\n        interval = setInterval(showTime, 1000);\n        pause_btn.innerHTML = 'Pausar';\n      }\n    };\n\n    window.reset = function reset() {\n      clearInterval(interval);\n      interval = null;\n      pause_btn.innerHTML = 'Pausar';\n      time = 0;\n      timer.innerHTML = toHHMMSS(time);\n      hideBtn([pause_btn, reset_btn, end_btn]);\n      showBtn([start_btn]);\n    };\n\n    window.toHHMMSS = function toHHMMSS(time) {\n      var hours = Math.floor(time / 3600);\n      var minutes = Math.floor((time - hours * 3600) / 60);\n      var seconds = time - hours * 3600 - minutes * 60;\n      hours = \"\".concat(hours).padStart(2, '0');\n      minutes = \"\".concat(minutes).padStart(2, '0');\n      seconds = \"\".concat(seconds).padStart(2, '0');\n      return hours + ':' + minutes + ':' + seconds;\n    };\n\n    window.end = function end() {\n      if (interval) {\n        clearInterval(interval);\n        interval = null;\n        pause_btn.innerHTML = 'Continuar';\n      } // add datetime value in inputs\n      // example format '2018-06-12T19:30'\n\n\n      $(\"#task_schedule_start_date\").val(start_time);\n      var end_today = new Date();\n      end_time = end_today.getFullYear() + \"-\" + (end_today.getMonth() + 1).toString().padStart(2, '0').toString() + \"-\" + end_today.getDate().toString().padStart(2, '0') + \"T\" + end_today.getHours() + \":\" + end_today.getMinutes();\n      $(\"#task_schedule_end_date\").val(end_time); // console.log('entrou no end');\n      // console.log(end_time);\n      // status\n      // var start_clock = start_time.getFullYear()+\"-\"+(start_time.getMonth()+1).toString().padStart(2, '0').toString()+\"-\"+start_time.getDate().toString().padStart(2, '0')+\"T\"+start_time.getHours()+\":\"+start_time.getMinutes();\n\n      var start_clock = start_today_global.getDate().toString().padStart(2, '0') + \"/\" + (start_today_global.getMonth() + 1).toString().padStart(2, '0').toString() + \"/\" + start_today_global.getFullYear() + \" \" + start_today_global.getHours() + \":\" + start_today_global.getMinutes().toString().padStart(2, \"0\");\n      var end_clock = end_today.getDate().toString().padStart(2, '0') + \"/\" + (end_today.getMonth() + 1).toString().padStart(2, '0').toString() + \"/\" + end_today.getFullYear() + \" \" + end_today.getHours() + \":\" + end_today.getMinutes().toString().padStart(2, \"0\");\n      var clock = document.getElementById(\"time\").innerHTML;\n      $(\".modal-body #start_clock\").html(start_clock);\n      $(\".modal-body #end_clock\").html(end_clock);\n      $(\".modal-body #clock\").html(clock);\n      console.log(start_clock);\n      console.log(end_clock);\n    };\n\n    window.send = function send() {\n      reset();\n      console.log('entrou no send_btn');\n    };\n\n    window.showBtn = function showBtn(btnArr) {\n      btnArr.forEach(function (btn) {\n        return btn.style.display = 'inline-block';\n      });\n    };\n\n    window.hideBtn = function hideBtn(btnArr) {\n      btnArr.forEach(function (btn) {\n        return btn.style.display = 'none';\n      });\n    };\n  }\n});","map":{"version":3,"sources":["/home/davide/code/tcc/freela_time/app/javascript/packs/app/timer.js"],"names":["$","document","on","length","timer","querySelector","start_btn","pause_btn","reset_btn","end_btn","time","interval","start_time","end_time","start_today_global","window","start_timer","hideBtn","showTime","innerHTML","toHHMMSS","start","setInterval","showBtn","start_today","Date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","pause","clearInterval","reset","hours","Math","floor","minutes","seconds","end","val","end_today","start_clock","end_clock","clock","getElementById","html","console","log","send","btnArr","forEach","btn","style","display"],"mappings":"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","sourcesContent":["$(document).on('turbolinks:load', function() {\n// document.addEventListener(\"turbolinks:load\", function() {\n    // console.log('Entrou no timer.js');\n\n    if ($(\"#time\").length) {\n        // console.log('Entrou no TIMER');\n        const timer = document.querySelector('#time');\n        const start_btn = document.querySelector('#start_btn');\n        const pause_btn = document.querySelector('#pause_btn');\n        const reset_btn = document.querySelector('#reset_btn');\n        const end_btn = document.querySelector('#end_btn');\n        // const send_btn = document.querySelector('#send_btn');\n\n        let time = 0,\n        interval;\n\n        var start_time;\n        var end_time;\n        var start_today_global\n\n        // hide timer buttons\n        window.start_timer = function start_timer() {\n            hideBtn([pause_btn, reset_btn, end_btn]);\n        }\n        \n\n        window.showTime = function showTime() {\n            time += 1;\n            timer.innerHTML = toHHMMSS(time);\n        }\n\n        window.start =  function start() {\n            interval = setInterval(showTime, 1000);\n            hideBtn([start_btn]);\n            showBtn([pause_btn, reset_btn, end_btn]);\n            // console.log('entrou no start');\n            var start_today = new Date();\n            start_time = start_today.getFullYear()+\"-\"+(start_today.getMonth()+1).toString().padStart(2, '0').toString()+\"-\"+start_today.getDate().toString().padStart(2, '0')+\"T\"+start_today.getHours()+\":\"+start_today.getMinutes();\n            start_today_global = start_today\n            //format '2018-06-12T19:30'\n            // console.log(start_time);\n        }\n\n        window.pause = function pause() {\n            if (interval) {\n                clearInterval(interval);\n                interval = null;\n                pause_btn.innerHTML = 'Continuar';\n            } else {\n                interval = setInterval(showTime, 1000);\n                pause_btn.innerHTML = 'Pausar';\n            }\n        }\n\n        window.reset = function reset() {\n            clearInterval(interval);\n            interval = null;\n            pause_btn.innerHTML = 'Pausar';\n            time = 0;\n            timer.innerHTML = toHHMMSS(time);\n            hideBtn([pause_btn, reset_btn, end_btn]);\n            showBtn([start_btn]);\n        }\n\n        window.toHHMMSS = function toHHMMSS(time) {\n            let hours = Math.floor(time / 3600);\n            let minutes = Math.floor((time - hours * 3600) / 60);\n            let seconds = time - hours * 3600 - minutes * 60;\n\n            hours = `${hours}`.padStart(2, '0');\n            minutes = `${minutes}`.padStart(2, '0');\n            seconds = `${seconds}`.padStart(2, '0');\n\n            return hours + ':' + minutes + ':' + seconds;\n        }\n\n        window.end = function end() {\n            if (interval) {\n                clearInterval(interval);\n                interval = null;\n                pause_btn.innerHTML = 'Continuar';\n            }\n\n            // add datetime value in inputs\n            // example format '2018-06-12T19:30'\n            $(\"#task_schedule_start_date\").val(start_time);\n            var end_today = new Date();\n            end_time = end_today.getFullYear()+\"-\"+(end_today.getMonth()+1).toString().padStart(2, '0').toString()+\"-\"+end_today.getDate().toString().padStart(2, '0')+\"T\"+end_today.getHours()+\":\"+end_today.getMinutes();\n            $(\"#task_schedule_end_date\").val(end_time);\n            // console.log('entrou no end');\n            // console.log(end_time);\n\n            // status\n            // var start_clock = start_time.getFullYear()+\"-\"+(start_time.getMonth()+1).toString().padStart(2, '0').toString()+\"-\"+start_time.getDate().toString().padStart(2, '0')+\"T\"+start_time.getHours()+\":\"+start_time.getMinutes();\n            var start_clock = start_today_global.getDate().toString().padStart(2, '0')+\"/\"+(start_today_global.getMonth()+1).toString().padStart(2, '0').toString()+\"/\"+start_today_global.getFullYear()+\" \"+start_today_global.getHours()+\":\"+start_today_global.getMinutes().toString().padStart(2, \"0\");\n            var end_clock = end_today.getDate().toString().padStart(2, '0')+\"/\"+(end_today.getMonth()+1).toString().padStart(2, '0').toString()+\"/\"+end_today.getFullYear()+\" \"+end_today.getHours()+\":\"+end_today.getMinutes().toString().padStart(2, \"0\");\n            var clock = document.getElementById(\"time\").innerHTML\n            $(\".modal-body #start_clock\").html(start_clock);\n            $(\".modal-body #end_clock\").html(end_clock);\n            $(\".modal-body #clock\").html(clock);\n\n            console.log(start_clock);\n            console.log(end_clock);\n        }\n\n        window.send = function send() {\n            reset();\n            console.log('entrou no send_btn');\n        }\n\n        window.showBtn = function showBtn(btnArr) {\n            btnArr.forEach((btn) => (btn.style.display = 'inline-block'));\n        }\n        window.hideBtn = function hideBtn(btnArr) {\n            btnArr.forEach((btn) => (btn.style.display = 'none'));\n        }\n    }\n\n});"]},"metadata":{},"sourceType":"module"}